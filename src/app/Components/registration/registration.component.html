<mat-card class="form-card">
  <h2 class="form-title">Employee Payroll Form</h2>

  <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">

    <!-- Name -->
    <div class="form-row">
      <label class="form-label">Name</label>
      <mat-form-field appearance="outline" class="form-input">
        <input matInput formControlName="name" placeholder="Enter full name" required>
        <mat-error *ngIf="employeeForm.get('name')?.invalid && employeeForm.get('name')?.touched">
          Name is required
        </mat-error>
      </mat-form-field>
    </div>

   <!-- Profile Image -->
<div class="form-row">
  <label class="form-label">Profile Image</label>
  <div class="form-input">
    <mat-radio-group formControlName="profile" class="profile-group">
      <mat-radio-button *ngFor="let img of profileImages" [value]="img.value" class="profile-option">
        <img [src]="img.url" class="profile-img" alt="Profile" />
      </mat-radio-button>
    </mat-radio-group>
    <mat-error *ngIf="employeeForm.get('profile')?.invalid && employeeForm.get('profile')?.touched">
      Choose a profile
    </mat-error>
  </div>
</div>

<!-- Gender -->
<div class="form-row">
  <label class="form-label">Gender</label>
  <div class="form-input">
    <mat-radio-group formControlName="gender" class="gender-group">
      <mat-radio-button value="male">Male</mat-radio-button>
      <mat-radio-button value="female">Female</mat-radio-button>
      <mat-radio-button value="other">Other</mat-radio-button>
    </mat-radio-group>
    <mat-error *ngIf="employeeForm.get('gender')?.invalid && employeeForm.get('gender')?.touched">
      Select gender
    </mat-error>
  </div>
</div>

<!-- Department -->
<div class="form-row">
  <label class="form-label">Department</label>
  <div class="form-input">
    <div class="checkbox-group">
      <mat-checkbox
        *ngFor="let d of departments"
        [checked]="isDeptChecked(d)"
        (change)="onToggleDepartment(d, $event.checked)">
        {{ d }}
      </mat-checkbox>
    </div>
    <mat-error *ngIf="employeeForm.get('department')?.invalid && employeeForm.get('department')?.touched">
      Select at least one department
    </mat-error>
  </div>
</div>

    <!-- Salary -->
    <div class="form-row">
      <label class="form-label">Salary</label>
      <mat-form-field appearance="outline" class="form-input">
        <input matInput type="number" formControlName="salary" placeholder="Enter salary">
        <mat-error *ngIf="employeeForm.get('salary')?.hasError('required') && employeeForm.get('salary')?.touched">
          Salary is required
        </mat-error>
        <mat-error *ngIf="employeeForm.get('salary')?.hasError('min')">
          Salary cannot be negative
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Start Date -->
    <div class="form-row">
      <label class="form-label">Start Date</label>
      <div class="date-dropdowns">
        <mat-form-field appearance="outline" class="date-field">
          <mat-label>Day</mat-label>
          <mat-select formControlName="day">
            <mat-option *ngFor="let d of days" [value]="d">{{ d }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="date-field">
          <mat-label>Month</mat-label>
          <mat-select formControlName="month">
            <mat-option *ngFor="let m of months" [value]="m.value">
              {{ m.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="date-field">
          <mat-label>Year</mat-label>
          <mat-select formControlName="year">
            <mat-option *ngFor="let y of years" [value]="y">{{ y }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>

    <!-- Notes -->
    <div class="form-row">
      <label class="form-label">Notes</label>
      <mat-form-field appearance="outline" class="form-input">
        <textarea matInput formControlName="note" rows="3"></textarea>
      </mat-form-field>
    </div>

    <!-- Buttons -->
    <div class="form-buttons">
      <button mat-raised-button color="primary" type="submit">Submit</button>
      <button mat-raised-button color="warn" type="reset">Reset</button>
    </div>

  </form>
</mat-card>
